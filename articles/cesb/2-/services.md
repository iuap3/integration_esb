# 2.3 服务管理

服务管理是指存储IDE发布到数据库中的服务及实体，包括服务仓库、服务提供、调用关系维护、服务统计、系统管理、实体管理。

## 2.3.1 系统管理

### 2.3.1.1 功能介绍

系统管理节点是注册及管理应用系统。用户提交服务前，需注册对应类型的应用系统。系统类型包含三种：消费者系统（CONSUMER）、提供者系统（PROVIDER）、提供者且消费者系统（BOTH）。

### 2.3.1.2界面说明

单击【服务管理】→【系统管理】，进入系统管理页面。界面如下：

![](/articles/cesb/2-/images/image71.png)

图2.3‑1 应用系统注册管理

### 2.3.1.3 操作流程

**注册**

单击〖注册〗按钮，填写应用系统的基本信息（*为必输项），包括系统名称、系统类型、主机名称、appkey、系统负责人、负责人电话、是否启用、IP、负责人Email、描述，单击〖确定〗，完成应用系统注册操作。

![](/articles/cesb/2-/images/image72.png)



图2.3‑2 注册应用系统

**搜索**

输入名称或编码，单击〖搜索〗按钮，筛选系统列表。

![](/articles/cesb/2-/images/image73.png)


图2.3‑3 搜索系统

**刷新**

单击〖刷新〗按钮，更新当前状态的服务列表。

![](/articles/cesb/2-/images/image74.png)


图2.3‑4 刷新系统列表

**停用**

选择某一应用系统，单击〖停用〗按钮，可停用该应用系统。停用的应用系统，其服务不可引用。

![](/articles/cesb/2-/images/image75.png)


图2.3‑5 停用应用系统

**编辑**

选择某一应用系统，单击〖编辑〗按钮，可编辑应用系统基本信息，单击〖保存〗完成应用系统编辑操作。

![](/articles/cesb/2-/images/image76.png)


图2.3‑6 编辑应用系统

**删除**

选择某一应用系统，单击〖删除〗按钮，可将选择的应用系统从应用系统管理列表中删除。

![](/articles/cesb/2-/images/image77.png)



图2.3‑7 删除应用系统﻿


## 2.3.2服务提供

### 2.3.2.1功能介绍

服务提供节点是配置及管理服务提供系统可提供的服务项。

### 2.3.2.2界面说明

单击【服务管理】→【服务提供】，进入服务提供页面。界面如下：

![](/articles/cesb/2-/images/image78.png)


图2.3‑8 服务提供

### 2.3.2.3操作流程

**搜索**

输入服务编码，单击〖搜索〗按钮，筛选服务列表。

![](/articles/cesb/2-/images/image79.png)


图2.3‑9 搜索服务

**刷新**

单击〖刷新〗按钮，更新当前状态的服务列表。

![](/articles/cesb/2-/images/image80.png)


图2.3‑10 刷新服务列表

**编辑**

选择某一服务，单击![](/articles/cesb/2-/images/image81.png)按钮，可编辑服务项信息。

![](/articles/cesb/2-/images/image82.png)


图2.3‑11 编辑服务项

**查看WSDL文件**

对于Webservice，单击“查看WSDL文件”，可以查看其提供的WSDL的WEB页面，如果不能，则说明该服务地址不连通。

![](/articles/cesb/2-/images/image83.png)


图2.3‑12 查看WSDL文件

![](/articles/cesb/2-/images/image84.png)


图2.3‑13 WSDL文件WEB页面

**删除** 

选择某一服务，单击![](/articles/cesb/2-/images/image85.png)按钮，可将选择的服务项从服务提供管理列表中删除。

![](/articles/cesb/2-/images/image86.png)


图2.3‑14删除服务项

## 2.3.3 调用关系维护

### 2.3.3.1 功能介绍

调用关系维护节点是管理应用系统（ESB应用）对其他应用系统服务的调用关系。

###2.3.3.2 界面说明

单击【服务管理】→【调用关系维护】，进入调用关系维护页面。界面如下：

![](/articles/cesb/2-/images/image87.png)



图2.3‑15调用关系维护

### 2.3.3.3 操作流程

**新增**

单击〖新增〗按钮，编辑调用关系的基本信息（*为必输项），包括消费者系统、提供者系统、服务提供、操作方法、最后修改人、最后修改时间、描述，单击〖确定〗，完成调用关系新增操作。

![](/articles/cesb/2-/images/image88.png)


图2.3‑16 新增调用关系

**搜索**

输入消费编码或消费名称，单击〖搜索〗按钮，筛选调用关系列表。

![](/articles/cesb/2-/images/image89.png)


图2.3-17 搜索服务

**刷新**

单击〖刷新〗按钮，更新当前状态的调用关系列表。

![](/articles/cesb/2-/images/image90.png)


图2.3-18 刷新调用关系列表

**编辑**

选择某一调用关系，单击〖编辑〗按钮，可编辑调用关系信息，单击〖保存〗完成调用关系编辑操作。

![](/articles/cesb/2-/images/image91.png)



图2.3-19 编辑调用关系

**测试**


选择某一调用关系，单击〖测试〗按钮，可测试调用关系。


![](/articles/cesb/2-/images/image92.png)


 
图2.3-20测试调用关系


**删除**

选择某一调用关系，单击〖删除〗按钮，可将选择的调用关系从调用关系管理列表中删除。

![](/articles/cesb/2-/images/image93.png)


图2.3-21 删除调用关系

## 2.3.4 服务统计

### 2.3.4.1 功能介绍

服务统计节点是分别从三个角度：应用系统服务汇总、从消费者角度汇总、从提供者角度汇总，汇总统计当前系统服务个数及操作方法。

〖应用系统服务汇总〗页签，可以了解ESB所管理的应用系统的所提供服务的分布，与各自的服务数量、操作方法数量及详情信息。

〖从提供者角度汇总〗页签，可以了解各个提供者系统间的调用情况、调用数量、所占比例等信息。

〖从消费者角度汇总〗页签，可以了解各个消费者系统间的调用情况、调用数量、所占比例等信息。

### 2.3.4.2 界面说明

单击【服务管理】→【服务统计】，进入服务统计页面。

**应用系统服务汇总**

单击〖应用系统服务汇总〗页签，可以了解ESB所管理的应用系统的所提供服务的分布，与各自的服务数量、操作方法数量及详情信息。

![](/articles/cesb/2-/images/image94.png)


图2.3-22 服务统计—应用系统服务汇总

**从提供者角度汇总**

单击〖从提供者角度汇总〗页签，可以了解各个提供者系统间的调用情况、调用数量、所占比例等信息。会显示按照服务提供系统提供的服务分类列表，列表信息包括应用系统名称、服务名称、服务地址、操作方法名、被调用次数及查看详情操作。

![](/articles/cesb/2-/images/image95.png)



图2.3‑23 服务统计—从提供者角度汇总

**从消费者角度汇总**

单击〖从消费者角度汇总〗页签，可以了解各个消费者系统间的调用情况、调用数量、所占比例等信息。

会显示按照服务消费系统分类，统计出的调用服务总数、调用操作方法总数及查看详情总数。

![](/articles/cesb/2-/images/image96.png)



图2.3‑24 服务统计—从消费者角度汇总

### 2.3.4.3操作流程

**应用系统服务汇总**

**查看详情**

选择某一应用系统，单击〖查看详情〗按钮，可查看该应用系统的服务、操作方法的详细信息。

![](/articles/cesb/2-/images/image97.png)


图2.3‑25 应用系统服务汇总—查看详情

**从提供者角度汇总**

**搜索**

可选择时间搜索，时间跨度包含：一天、一周、一个月（30天）。

**查看详情**

选择某一服务项，单击〖查看详情〗按钮，可查看该应用系统调用了提供者系统服务的详细信息。包含提供者系统名称、服务名称、服务地址、方法名称、消费者系统名称、消费结果、消费时间。

![](/articles/cesb/2-/images/image98.png)


图2.3‑26 从提供者角度汇总—查看详情

**从消费者角度汇总**

**搜索**

可选择时间搜索，时间跨度包含：一天、一周、一个月（30天）。

**查看详情**

选择某一应用系统，单击〖查看详情〗按钮，可查看该应用系统的详细信息，包括消费者系统名称、提供者系统名称、调用服务名称、调用服务地址、调用方法名称、调用结果、调用时间。

![](/articles/cesb/2-/images/image99.png)



图2.3‑27 从消费者角度汇总—查看详情

## 2.3.5 服务仓库

### 2.3.5.1 功能介绍

服务仓库节点是当前“管理中心”所有服务项的汇总，包含内置服务及自定义服务。仓库的服务能被“服务管理”管理，也可在ESB-IDE被自定义服务进行远程引用。

### 2.3.5.2 界面说明

单击【服务管理】→【服务仓库】，进入服务仓库页面。界面如下：

![](/articles/cesb/2-/images/image100.png)

图2.3‑28 服务仓库

### 2.3.5.3 操作流程

**搜索**

输入服务名称，单击〖搜索〗按钮，筛选服务列表。

![](/articles/cesb/2-/images/image101.png)


图2.3‑29 搜索服务

**刷新**

单击〖刷新〗按钮，更新当前状态的服务列表。

![](/articles/cesb/2-/images/image102.png)



图2.3‑30 刷新服务列表

**编辑**

选择某一服务，单击〖编辑〗按钮，可编辑服务项信息，单击〖保存〗完成服务编辑操作。

![](/articles/cesb/2-/images/image103.png)


图2.3‑31 服务预备库—编辑服务项

**删除**

选择某一服务，单击〖删除〗按钮，可将选择的服务项从服务仓库管理列表中删除。

![](/articles/cesb/2-/images/image104.png)



图2.3‑32 服务仓库—删除服务项



## 2.3.6 实体管理

### 2.3.6.1 功能介绍

实体管理，指在服务建模里，XSD里所定义各实体类型。

实体管理节点主要是针对属性类型进行管理，包括实体信息的查询、实体的新增、实体属性的新增。

### 2.3.6.2 界面说明

单击【服务管理】→【实体管理】，进入实体管理页面。界面如下：

![](/articles/cesb/2-/images/image105.png)


图2.3‑33 实体管理

### 2.3.6.3 操作流程

**搜索**

输入类名，单击〖搜索〗按钮，筛选系统列表。

![](/articles/cesb/2-/images/image106.png)


图2.3‑34 搜索实体

**刷新**

单击〖刷新〗按钮，更新当前状态的实体列表。

![](/articles/cesb/2-/images/image107.png)



图2.3‑35 刷新实体列表

**编辑**

选择某一实体，单击〖编辑〗按钮，进行实体信息、实体属性集合的编辑，单击〖确定〗完成实体修改操作。

![](/articles/cesb/2-/images/image108.png)



图2.3‑36 编辑实体

**删除**

选择某一属性类型，单击〖删除〗按钮，可将选择的属性类型从实体管理列表中删除。

![](/articles/cesb/2-/images/image109.png)

图2.3‑37 删除实体





















